knitr::opts_chunk$set(echo = TRUE)
library(ggplot2) # Grammar of graphics
library(cowplot) # Arranging multiple plots into a grid
library(png)     # Load JPEG, PNG and TIFF format
library(scales)  # Generic plot scaling methods
library(viridis) # Default color maps from 'matplotlib'
library(grid)    # A rewrite of the graphics layout capabilities
library(magick)  # graphics and image processing
library(rsvg)    # Render svg image into a high quality bitmap
library(ggforce) # Collection of additional ggplot stats + geoms
library(ggplot2) # Grammar of graphics
library(cowplot) # Arranging multiple plots into a grid
library(png)     # Load JPEG, PNG and TIFF format
library(scales)  # Generic plot scaling methods
library(viridis) # Default color maps from 'matplotlib'
library(grid)    # A rewrite of the graphics layout capabilities
library(magick)  # graphics and image processing
library(rsvg)    # Render svg image into a high quality bitmap
library(ggforce) # Collection of additional ggplot stats + geoms
img1 <- magick::image_flip(magick::image_read("./image1.jpg"))
img2 <-  magick::image_flip(magick::image_read("./image2.png"))
img1
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf)
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
annotation_custom(rasterGrob(image = img2,
x=0.73,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf)
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
annotation_custom(rasterGrob(image = img2,
x=0.73,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf)
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
annotation_custom(rasterGrob(image = img2,
x=0.73,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
geom_ellipse(aes(x0 = 0.25,
y0 = 0.3,
a = 0.1,
b = 0.04,
angle = 0),
color="yellow",
size=1)
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
annotation_custom(rasterGrob(image = img2,
x=0.73,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
geom_ellipse(aes(x0 = 0.25,
y0 = 0.3,
a = 0.1,
b = 0.04,
angle = 0),
color="yellow",
size=1) +
scale_x_continuous(limits = c(0,1))+
scale_y_continuous(limits=c(0,1))
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
annotation_custom(rasterGrob(image = img2,
x=0.73,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
geom_ellipse(aes(x0 = 0.25,
y0 = 0.3,
a = 0.1,
b = 0.04,
angle = 0),
color="yellow",
size=1) +
scale_x_continuous(limits = c(0,1))+
scale_y_continuous(limits=c(0,1))
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
annotation_custom(rasterGrob(image = img2,
x=0.73,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
geom_ellipse(aes(x0 = 0.25,
y0 = 0.3,
a = 0.1,
b = 0.04,
angle = 0),
color="yellow",
size=1) +
scale_x_continuous(limits = c(0,1))+
scale_y_continuous(limits=c(0,1)) +
geom_segment(aes(x=0.15,
xend=0.2,
y=0.75,
yend=0.7),
arrow = arrow(length=unit(0.30,"cm"),
ends="last",
type = "closed"),
size = 1,
color="white") +
geom_segment(aes(x=0.3,
xend=0.9,
y=0.7,
yend=0.7),
arrow = arrow(length=unit(0.30,"cm"),
ends="both",
type = "closed"),
size = 1,
color="red") +
annotate("text", x = 0.25, y = 0.5, label = "PNG",color="white") +
annotate("text", x = 0.75, y = 0.5, label = "JPEG",color="white") +
annotate("text", x = 0.25, y = 1, label = "image 1",color="black") +
annotate("text", x = 0.75, y = 1, label = "image 2",color="black") +
annotate("text", x = 0.39, y = 0.07, label = "20~mu*m",color="white",parse=T) +
annotate("text", x = 0.89, y = 0.07, label = "20~mu*m",color="white",parse=T) +
geom_segment(aes(x=0.33,xend=0.45,y=0.03,yend=0.03), size = 2,color="white") +
geom_segment(aes(x=0.83,xend=0.95,y=0.03,yend=0.03),size = 2,color="white")
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
annotation_custom(rasterGrob(image = img2,
x=0.73,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
# Chunk 2
library(ggplot2) # Grammar of graphics
library(cowplot) # Arranging multiple plots into a grid
library(png)     # Load JPEG, PNG and TIFF format
library(scales)  # Generic plot scaling methods
library(viridis) # Default color maps from 'matplotlib'
library(grid)    # A rewrite of the graphics layout capabilities
library(magick)  # graphics and image processing
library(rsvg)    # Render svg image into a high quality bitmap
library(ggforce) # Collection of additional ggplot stats + geoms
# Chunk 3
# global font size
base_size = 12
# Manual theme for most panels
# documentation: https://ggplot2.tidyverse.org/reference/theme.html
my_theme <-  function() {
theme(
aspect.ratio = 1,
axis.line =element_line(colour = "black"),
# shift axis text closer to axis bc ticks are facing inwards
axis.text.x = element_text(size = base_size*0.8, color = "black",
lineheight = 0.9,
margin=unit(c(0.3,0.3,0.3,0.3), "cm")),
axis.text.y = element_text(size = base_size*0.8, color = "black",
lineheight = 0.9,
margin=unit(c(0.3,0.3,0.3,0.3), "cm")),
axis.ticks = element_line(color = "black", size  =  0.2),
axis.title.x = element_text(size = base_size,
color = "black",
margin = margin(t = -5)),
# t (top), r (right), b (bottom), l (left)
axis.title.y = element_text(size = base_size,
color = "black", angle = 90,
margin = margin(r = -5)),
axis.ticks.length = unit(-0.3, "lines"),
legend.background = element_rect(color = NA,
fill = NA),
legend.key = element_rect(color = "black",
fill = "white"),
legend.key.size = unit(0.5, "lines"),
legend.key.height = NULL,
legend.key.width = NULL,
legend.text = element_text(size = 0.6*base_size,
color = "black"),
legend.title = element_text(size = 0.6*base_size,
face = "bold",
hjust = 0,
color = "black"),
legend.text.align = NULL,
legend.title.align = NULL,
legend.direction = "vertical",
legend.box = NULL,
panel.background = element_rect(fill = "white",
color  =  NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title = element_text(size = base_size,
color = "black"),
)
}
img1 <- magick::image_flip(magick::image_read("./image1.jpg"))
img2 <-  magick::image_flip(magick::image_read("./image2.png"))
ggplot() +
annotation_custom(rasterGrob(image =  img1,
x=0.27,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf) +
annotation_custom(rasterGrob(image = img2,
x=0.73,
y=0.49,
width = unit(0.45,"npc"),
height = unit(0.87,"npc")),
-Inf, Inf, -Inf, Inf)
