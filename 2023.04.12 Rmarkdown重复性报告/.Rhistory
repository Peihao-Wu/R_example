knitr::opts_chunk$set(echo=F, message=F, results='hide', warning=F, fig.height=9)
df
knitr::opts_chunk$set(echo=T, message=F, results='hide', warning=F, fig.height=9)
knitr::kabble(df1)
df1 = matrix(rnorm(100),10,10)
knitr::kabble(df1)
df1
library("rmarkdown")
df = tibble(
gender = rep(c("Male","Female"),5),
height = c(rnorm(5,160,5),rnorm(5,175,5)),
weight = c(rnorm(5,100,5),rnorm(5,120,5))
)
library(tibble)
df = tibble(
gender = rep(c("Male","Female"),5),
height = c(rnorm(5,160,5),rnorm(5,175,5)),
weight = c(rnorm(5,100,5),rnorm(5,120,5))
)
df
unique(df$gender)
slices = unique(df$gender)
library(tibble)
df = tibble(
gender = rep(c("Male","Female"),5),
height = c(rnorm(5,160,5),rnorm(5,175,5)),
weight = c(rnorm(5,100,5),rnorm(5,120,5))
)
slices = unique(df$gender)
slices = unique(df$gender)
for(v in slices){
render("~/repo/exploratory_template.Rmd",
output_file=paste0("~/results/exploratory_", v, ".html"),
params=list(new_title=paste("Exploratory analysis -", v)))
}
render("~test.Rmd",
output_file=paste0("~/results/exploratory_", v, ".html"),
params=list(new_title=paste("Exploratory analysis -", v)))
render("~/test.Rmd",
output_file=paste0("~/results/exploratory_", v, ".html"),
params=list(new_title=paste("Exploratory analysis -", v)))
library(rmarkdown)
library(tibble)
df = tibble(
gender = rep(c("Male","Female"),5),
height = c(rnorm(5,160,5),rnorm(5,175,5)),
weight = c(rnorm(5,100,5),rnorm(5,120,5))
)
slices = unique(df$gender)
for(v in slices){
render("~/test.Rmd",
output_file=paste0("~/results/exploratory_", v, ".html"),
params=list(new_title=paste("Exploratory analysis -", v)))
}
render("test.Rmd",
output_file=paste0("results/exploratory_", v, ".html"),
params=list(new_title=paste("Exploratory analysis -", v)))
render("test.Rmd",
output_file=paste0("result/exploratory_", v, ".html"),
params=list(new_title=paste("Exploratory analysis -", v)))
slices
for(v in slices){
render("test.Rmd",
output_file=paste0("result/exploratory_", v, ".html"),
params=list(new_title=paste("Exploratory analysis -", v)))
}
df
knitr::opts_chunk$set(echo=T, message=F, warning=F, fig.height=9)
library(openxlsx)
params$new_title = "A中学"
read.xlsx(paste("params$new_title",xls))
read.xlsx(paste(params$new_title,"xls"，sep = ""))
read.xlsx(paste(params$new_title,"xls",sep = ""))
paste(params$new_title,"xls",sep = "")
read.xlsx(paste(params$new_title,".xls",sep = ""))
params$new_title
params$new_title = "A中学"
params$new_title
read.xlsx(paste(params$new_title,".xls",sep = ""))
paste(params$new_title,".xls",sep = "")
params$new_title
read.xlsx(paste(params$new_title,".xls",sep = ""))
read.xlsx(paste(params$new_title,".xls",sep = ""))
read.xlsx(paste(params$new_title,".xlsx",sep = ""))
paste(params$new_title,".xlsx",sep = "")
read.xlsx(paste(params$new_title,".xlsx",sep = ""))
read.xlsx(paste(params$new_title,".xlsx",sep = ""),sheet = 1)
paste(params$new_title,".xlsx",sep = "")
read.xlsx(paste("A中学",".xlsx",sep = ""),sheet = 1)
paste("A中学",".xlsx",sep = "")
read.xlsx(paste("A中学",".xlsx",sep = ""),sheet = 1)
read.xlsx(paste("A中学",".csv",sep = ""),sheet = 1)
read.xlsx(paste("A中学",".csv",sep = ""))
read.csv(paste("A中学",".csv",sep = ""))
paste("A中学",".csv",sep = "")
read.csv(paste("A中学",".csv",sep = ""))
read.csv("A中学.csv")
df = read.csv("A中学.csv")
df = read.csv("A中学.csv")
df
df = read.csv("A中学.csv")
knitr::kable(df, align = "c")
df
df
df %>% group_by(`性别`)
df %>% group_by(`性别`) %>% summarise("Mean_Height" = mean(`身高`),
"Sd_Height" = std(`身高`),
"Mean_Weight" = mean(`体重`),
"Sd_Weight" = std(`体重`),)
df %>% group_by(`性别`) %>% summarise("Mean_Height" = mean(`身高`),
"Sd_Height" = std(`身高`),
"Mean_Weight" = mean(`体重`),
"Sd_Weight" = std(`体重`))
df %>% group_by(`性别`) %>% summarise("Mean_Height" = mean(`身高`),
"Sd_Height" = sd(`身高`),
"Mean_Weight" = mean(`体重`),
"Sd_Weight" = sd(`体重`))
df %>% group_by(`性别`) %>% summarise("平均身高" = mean(`身高`),
"身高标准差" = sd(`身高`),
"平均体重" = mean(`体重`),
"体重标准差" = sd(`体重`))
df
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value")
ggplot() +
geom_boxplot(Class,Value,fill = `性别`)
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(Class,Value,fill = `性别`)
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value")
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(Class,Value,fill = 性别)
df
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value")
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(Class,Value,fill = 性别))
library(showtext)
library(showtext)
showtext.auto()
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(Class,Value,fill = 性别))
library(showtext)
showtext.auto()
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(Class,Value,fill = 性别))
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(Class,Value)) +
facet_grid(vars(性别))
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value")
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value)) +
facet_grid(vars(Class))
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value)) +
facet_wrap(vars(Class))
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value)) +
facet_wrap(vars(Class),scales = "free")
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value,fill=性别)) +
facet_wrap(vars(Class),scales = "free")
library(ggsci)
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value,fill=性别)) +
scale_fill_aaas()
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value,fill=性别)) +
scale_fill_aaas() +
facet_wrap(vars(Class),scales = "free")
library(viridis)
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value,fill=性别)) +
scale_fill_viridis() +
facet_wrap(vars(Class),scales = "free")
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value,fill=性别)) +
scale_fill_viridis(Discrete =T) +
facet_wrap(vars(Class),scales = "free")
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value,fill=性别)) +
scale_fill_viridis(discrete = T) +
facet_wrap(vars(Class),scales = "free")
() +
df %>% pivot_longer(`身高`:`体重`,
names_to = "Class",
values_to = "Value") %>%
ggplot() +
geom_boxplot(aes(性别,Value,fill=性别)) +
scale_fill_aaas() +
facet_wrap(vars(Class),scales = "free")
read.csv(paset0(params$new_title,".csv",sep=''))
read.csv(paste0(params$new_title,".csv",sep=''))
knitr::opts_chunk$set(echo=T, message=F, warning=F, fig.height=4)
library(tidyverse)
library(knitr)
df = read.csv(paste0(params$new_title,".csv",sep=''))
school = c("A中学"，"B中学")
school = c("A中学","B中学")
for(v in school){
render("中文.Rmd",
output_file=paste0("result/exploratory_", v, ".html"),
params=list(new_title=paste("Exploratory analysis -", v)))
}
render("中文.Rmd",
output_file=paste0("result/exploratory_", v, ".html"),
params=list(new_title=v))
for(v in school){
render("中文.Rmd",
output_file=paste0("result/exploratory_", v, ".pdf"),
params=list(new_title=v))
}
knitr::opts_chunk$set(echo=T, message=F, warning=F, fig.height=4)
df = read.csv(paste0("data/",params$new_title,".csv",sep=''))
df
school = c("A中学","B中学")
for(v in school){
render("中文.Rmd",
output_file=paste0("result/exploratory_", v, ".pdf"),
params=list(new_title=v))
}
